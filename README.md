# Tourist-recommendation-system

2018.10 ~2019.01
- 세부적인 내용은 보고서 파일 참고






# 관광객 데이터를 이용한 한국 여행 추천 시스템



## 데이터 설명

- 2017년 외래관광객 실태조사 데이터 (문화체육관광부, 한국관광공사 주관)
- 우리나라를 방문한 외래관광객의 한국 여행실태, 한국 내 소비실태 및 한국 여행 평가를 조사하여 외래관광객의 한국 여행성향을 파악하고 연도별 변화 추이를 비교, 분석하고자 하는 조사

- 219개의 변수 존재
- 여행객에 대한 정보: 국적, 성별, 동행자유형, 방문목적이나 동기, 등
- 한국 여행실태에 대한 정보: 체류기간, 방문지 목록, 활동 내역, 여행형태, 좋았던 방문지, 좋았던 활동 내역 등
- 한국 내 소비실태에 대한 정보: 총 지출, 유형별 지출금액, 일일지출, 쇼핑품목, 등
- 한국 여행 평가에 대한 정보: 만족도, 재방문의사, 한국여행 추천의사, 방문전/후 이미지입


## 분석 목표 및 흐름 요약

목표: 추가적인 데이터의 보충 없이, 실태조사 데이터에 있는 많은 수의 관찰 값과 변수들을 이용하여 다방면의 분석을 활용하여 유기적으로 연결된 하나의 관광 추천 서비스 완성

-> 관광객의 입장에서 어떠한 서비스가 제공된다면 좋을지에 대해 고려하는 동시에, 개별적인 특성을 가지고 있는 관광객들을 어떻게 구별하여 서비스를 차별적으로 제공할 수 있을지에 대하여 고려

1. 관광객들의 유형별 고려(Clustering)
2. 유형별 관광객의 만족도 요인 파악(Multinomial Logistic Regression)
3. 유형별 선호 관광지 추천(Network Analysis)
4. 예산 책정 가이드라인 제시(XG Boost)



## Clustering(관광객들의 유형 분류)

- 가정: 한국을 방문하는 관광객들의 유형이 특정한 변수들에 의해 어떠한 특성을 가지고 구분되어질 수 있다.(관광객들이 그 나라를 방문하고자 하는 동기, 목정 등, 다양한 이유에 따라 방문하는 관광지나 여행 지출에 차이를 보임을 시각화를 통해 확인한 바 있음)
- 활용한 모델: 각 관찰지를 기준으로 거리(유사도)를 구하여 군집화하는 PAM(Partitioning Around Medoids) 기법을 사용. 거리(유사도)를 구하는 방법은 범주형과 연속형 변수를 포함하고 있는 데이
터 형태를 고려하여 고어 유사도(Gower’s distance)를 사용하였으며 군집을 평가하는 기준으로는 1의 값에 가까울수록 군집화 품질을 높다고 평가하는 실루엣(Silhouette) 값을 이용.
- 변수 선택 기준: 여행자의 유형을 파악이라는 분석 목표를 위해 여행자의 특성을 나타내는 변수들을 우선적으로 선정. 결과적으로 나이, 국적, 목적, 동기, 머문 기간, 동행자 유형 등 이 외 5 개의 변수들이 선정.
- 최종 클러스터 결과: 동행자 유형(companion), 관광지 방문횟수(site_total), 총 지출(total_pay), 동기(motivation)로 그 중에서도 군집을 4 개로 설정하였을 때 실루엣 값이 0.6 으로 가장 높았음. 4개의 군집은 동행자 유형(companion) 변수에 매우 큰 영향을 받는 것을 확인함.

1. 가족과 동행한 여행객 유형(Group1) : 총 지출은 평균이 1309.894 로 높은 편이었고 여행 동기는 주로 자연풍경과 쇼핑이라는 특징을 가지고 있었다.
2. 연인 혹은 친구와 동행한 여행객 유형(Group2) : 관광지 방문 횟수는 평균 6.939 로 높은 편이었으며 여행 동기는 주로 쇼핑과 자연환경이라는 특징을 가지고 있었다.
3. 혼자서 방문한 여행객 유형(Group3) : 관광지 방문 횟수나 총 지출에 뚜렷한 특징은 없었지만 여행 동기가 자연환경, 쇼핑, 역사, k-pop 등으로 비교적 고르고 다양하다는 특징을 가지고 있었다. 
4. 직장동료와 동행한 여행객 유형(Group4) : 관광지 방문 횟수와 총지출의 평균이 적은 편이라는 특징을 가지고 있었다. 한국을 여행이 아닌 사업을 목적으로 방문한 것으로 예상할 수 있다.

-> tourist clustering(2).R


## Multinomial Logistic Regression(유형별 관광객의 만족도 요인 파악)

- 반응변수 Y: 여행 만족도 지표. 세가지 범주로 표현(1(불만족), 2(만족), 3(매우 만족))
- 설명변수 X: 만족도의 요인이 될 수 있을 것이라 판단되는 변수들과 이후에 제언이 가능한 변수들로 선택(동행자 수, 여행 종류, 체류 기간, 총 방문지 횟수)
- 그룹별로 각각 모델을 구축하여, 유형별 관광객들의 만족도 요인을 파악.

1. 가족과 동행한 여행객 유형(Group1) :  패키지 여행일수록 높은 만족감을 느낄 확률이 더 낮다. 여행 기간이 길수록 높은 만족도를 느낄 확률이 높다.
2. 연인 혹은 친구와 동행한 여행객 유형(Group2) : 패키지 여행일수록 높은 만족감을 느낄 확률이 높고, 여행 기간은 길어질수록, 구성원이 많아질수록 불만족한 여행이 될 확률이 높다.
3. 혼자서 방문한 여행객 유형(Group3) : 패키지 여행일수록 높은 만족감을 느끼기 어렵고, 여행 기간이 길어지고 관광지 수가 늘어날수록 불만족할 확률이 높을 것이다. 
4. 직장동료와 동행한 여행객 유형(Group4) : 유의한 변수들이 없었는데 이는 출장 차 방문했기 때문에 여행유형이나, 동행자의 수, 관광지 수 등의 변수가 만족도에 영향을 끼치지 않았을 것이다.

-> 위 결과를 통해, 그룹별로 만족도에 영향을 끼치는 요인들이 모두 다르게 나타남을 알 수 있었다.


## Network Analysis(유형별 선호 관광지 추천)

- 가설: 특정 관광객이 선호했던 관광지들 간 관련성이 있을 것이다.
관광객들이 선호했던 관광지들을 액터로 설정하였고, 방향성이 없는 링크(edge)로 각 관광객이 선호하는 관광지들을 연결했다. 이때 특정 두 관광지를 선호하는 경우가 많은 경우, 관광객의 수 많은 가중치를 부여하였다. 이를 통해 네트워크를 시각적으로 구현하여 액터들 간의 구조를 보거나 중심성을 구하는 여러 방법 중 해당 데이터에 가장 적합했던 방법(Degree Centrality)을 통해 액터의 영향력을 파악해보았다.

네트워크 분석을 통해 특정 유형에 속하는 관광객이 하나의 관광지를 선호했을 때 다음 관광지를 추천해 줄 수 있게 되었다. 또한 선호되는 관광지들의 지리적인 분포를 파악하였으며, 어떠한 관광지들이 가장 빈번하게 선호되는 지나 어떠한 두 관광지가 가장 높은 연관성을 가지고 있는 지도 시각적으로 파악할 수 있었다.

1. 가족과 동행한 여행객 유형(Group1) :  주로 아이들이 선호하는 관광지들의 중심도가 높았다. 예를 들어, 다른 유형에서는 선호되지 않거나 선호도가 작았던 테디베어 박물관, 민속촌, 스키장이 높은 선호도를 보였다.
2. 연인 혹은 친구와 동행한 여행객 유형(Group2) : 랜드마크를 방문하는 것을 선호했다. 이는 연인이나 친구가 동행할 경우 랜드마크를 주로 방문한다는 특성과 해당 유형의 경우 방문지보다는 동행자와의 추억을 더 기대하는 경우가 많다는 점 때문이라고 이해된다.
3. 혼자서 방문한 여행객 유형(Group3) : 다른 유형들과는 다르게 제주도를 선호한 여행객이 많지 않았다. 이는 해당 유형의 여행 목적이 사업차, 교육, 친지방문의 경우가 많았기 때문에 이동시간이 긴 제주도까지 방문하지 않는 것으로 판단되었다. 또한 여행자들이 한국에 온 동기가 다양한 만큼 선호하는 방문지가 다양하며 노드들의 중심성이 낮아진 것을 파악할 수 있었다.
4. 직장동료와 동행한 여행객 유형(Group4) : 지역간 이동이 적어서 노드들이 모두 연결되지 않고 지역별로 구분된 것을 볼 수 있었다. 또한 기업체나 산업단지를 선호하는 경우가 있었는데, 이는 방문지역이 출장 지역으로 한정되었기 때문이라고 생각된다.


-> 자세한 시각화와 설명은 Team Data Travel 보고서.pdf 참고

-> 예시 코드: group2 network analysis(3).R


## XG Boost(예산 책정 가이드라인 제시)

- 반응변수 Y: 관광객들이 사용한 예산
- 설명변수 X: 개인이 고려하는 요인, 여행을 오기 전 예산을 책정할 때 별개로 영향을 미칠 수 있는 요인을 나타내는 변수들을 사용
✓ 여행객 유형 : nation, gender, num_companion, companion, decision_time
✓ 여행 목적/유형 : purpose, activity1, type,
✓ 숙박 유형 : accomodations_hotel, accomodations_guesthouse, accomodations_condo,
accomodations_friend, accomodations_official, accomodations_temple, accomodations_homestay,
✓ 여행 시기 : period, spring, summer, fall, winter
✓ 여행 장소 : visit_place_1~48, area_total, site_total, visit_seoul









